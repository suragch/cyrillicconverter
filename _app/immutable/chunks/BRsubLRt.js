import{ag as m,ah as k,h as n,ai as y,a0 as S,aj as A,ak as E,al as b,am as g,$ as M,_ as N,G as c,an as L}from"./BuRW4a-I.js";const T=Symbol("is custom element"),I=Symbol("is html");function G(e){if(n){var a=!1,r=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var l=e.value;u(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var s=e.checked;u(e,"checked",null),e.checked=s}}};e.__on_r=r,S(r),A()}}function u(e,a,r,l){var s=O(e);n&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=r)&&(a==="loading"&&(e[E]=r),r==null?e.removeAttribute(a):typeof r!="string"&&w(e).includes(a)?e[a]=r:e.setAttribute(a,r))}function O(e){return e.__attributes??={[T]:e.nodeName.includes("-"),[I]:e.namespaceURI===m}}var h=new Map;function w(e){var a=e.getAttribute("is")||e.nodeName,r=h.get(a);if(r)return r;h.set(a,r=[]);for(var l,s=e,o=Element.prototype;o!==s;){l=y(s);for(var t in l)l[t].set&&r.push(t);s=k(s)}return r}function H(e,a,r=a){var l=new WeakSet;b(e,"input",async s=>{var o=s?e.defaultValue:e.value;if(o=_(e)?i(o):o,r(o),c!==null&&l.add(c),await g(),o!==(o=a())){var t=e.selectionStart,f=e.selectionEnd,d=e.value.length;if(e.value=o??"",f!==null){var v=e.value.length;t===f&&f===d&&v>d?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=t,e.selectionEnd=Math.min(f,v))}}}),(n&&e.defaultValue!==e.value||M(a)==null&&e.value)&&(r(_(e)?i(e.value):e.value),c!==null&&l.add(c)),N(()=>{var s=a();if(e===document.activeElement){var o=L??c;if(l.has(o))return}_(e)&&s===i(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function _(e){var a=e.type;return a==="number"||a==="range"}function i(e){return e===""?null:+e}export{H as b,G as r,u as s};
