import{f as P,a as k}from"../chunks/Y1qfGezR.js";import{i as M}from"../chunks/DN6SW8RB.js";import{p as W,c as r,e as $,f as s,b as o,m as p,i as t,r as a,j as z,k as A}from"../chunks/BuRW4a-I.js";import{e as B,s as G}from"../chunks/FIFTuy36.js";import{i as H}from"../chunks/DWZ7psrM.js";import{b as w,r as g}from"../chunks/BRsubLRt.js";import{p as I}from"../chunks/D4Caz1gY.js";import{p as C}from"../chunks/BM2eiINI.js";import{g as J}from"../chunks/CMMOSwh0.js";var K=P('<p class="text-red-500 text-sm"> </p>'),L=P('<div class="flex justify-center items-center h-full"><div class="w-full max-w-md p-8 space-y-6 bg-white rounded-lg shadow-md"><h1 class="text-2xl font-bold text-center">Register</h1> <form class="space-y-6"><div><label for="email" class="block mb-2 text-sm font-medium">Email</label> <input type="email" id="email" class="w-full px-3 py-2 border rounded-lg" required/></div> <div><label for="password" class="block mb-2 text-sm font-medium">Password</label> <input type="password" id="password" class="w-full px-3 py-2 border rounded-lg" required/></div> <div><label for="passwordConfirm" class="block mb-2 text-sm font-medium">Confirm Password</label> <input type="password" id="passwordConfirm" class="w-full px-3 py-2 border rounded-lg" required/></div> <!> <button type="submit" class="w-full px-4 py-2 text-white bg-blue-600 rounded-lg hover:bg-blue-700">Register</button></form></div></div>');function Z(q,R){W(R,!1);let d=p(""),i=p(""),m=p(""),l=p(null);async function j(){if(o(l,null),r(i)!==r(m)){o(l,"Passwords do not match.");return}try{await C.collection("users").create({email:r(d),password:r(i),passwordConfirm:r(m)}),await C.collection("users").authWithPassword(r(d),r(i)),J("/")}catch(e){o(l,`Failed to register: ${e.message}`),console.error("Registration failed:",e)}}M();var n=L(),x=t(n),f=s(t(x),2),u=t(f),_=s(t(u),2);g(_),a(u);var c=s(u,2),h=s(t(c),2);g(h),a(c);var v=s(c,2),y=s(t(v),2);g(y),a(v);var D=s(v,2);{var E=e=>{var b=K(),F=t(b,!0);a(b),A(()=>G(F,r(l))),k(e,b)};H(D,e=>{r(l)&&e(E)})}z(2),a(f),a(x),a(n),w(_,()=>r(d),e=>o(d,e)),w(h,()=>r(i),e=>o(i,e)),w(y,()=>r(m),e=>o(m,e)),B("submit",f,I(j)),k(q,n),$()}export{Z as component};
